<div class="flex-container" *ngIf="!showMoviesSearch">
  <div class="title-container">
    <h1 class="movies-container"> Qué películas recomiendan los Rootstrappers?</h1>
    <button mat-icon-button 
          class="add-button"
          (click)="enterSearchMode()"
            >
      <mat-icon>add_to_queue</mat-icon>
    </button>
  </div>
  <input type="text" class="search-input title-search-input" placeholder="Search" [(ngModel)]="titleFilter">
  <div class="row-container">
      <div class="movie-item-container" *ngFor="let movie of movies | textFilter: titleFilter; index as index">
        <div class="poster-container">
            <img [src]="movie.poster_path | posterUrl" class="poster" *ngIf="movie.poster_path">
            <div class="movie-title-container" *ngIf="!movie.poster_path">
              <h5 class="movie-title">
                {{movie.title}} 
              </h5>
            </div>
        </div>
        <div class="thumbs-container">
          <button mat-icon-button 
                  class="thumb-up" 
                  (click)="voteThumbsUp(movie)" 
                  (mouseenter)="changeThumbsUpTooltip(index, true)" 
                  (mouseleave)="changeThumbsUpTooltip(index, false)">
            <mat-icon>thumb_up</mat-icon>
          </button>
          <div class="tooltip-common thumb-up-tooltip" *ngIf="showThumbsUpTooltips[index]">
            {{movie.thumbsUpCount}}
          </div>
          <button mat-icon-button 
                  class="thumb-down" 
                  (click)="voteThumbsDown(movie)"
                  (mouseenter)="changeThumbsDownTooltip(index, true)" 
                  (mouseleave)="changeThumbsDownTooltip(index, false)">
            <mat-icon>thumb_down</mat-icon>
          </button>
          <div class="tooltip-common thumb-down-tooltip" *ngIf="showThumbsDownTooltips[index]">
            {{movie.thumbsDownCount}}
          </div>
        </div>
      </div>
    </div>
</div>

<div class="movies-search-container" *ngIf="showMoviesSearch">
  <h3>Buscá la película que querés recomendar:</h3>
  <div class="search-container">
    <input type="text" class="search-input" placeholder="Search Movie" [(ngModel)]="newMovie">
    <button mat-icon-button class="search-icon" (click)="searchMovie()" >
      <mat-icon>search</mat-icon>
    </button>
    <button type="button" class="btn btn-info go-back-button" (click)="clearSearch()">Volver</button>
  </div>
  <div class="movies-search" *ngIf="moviesSearch?.results">
    <h4>Alguna de estas es la película que buscabas?</h4>
    <div class="row-container">
      <div class="movie-item-container" *ngFor="let movieSearch of moviesSearch?.results">
        <button class="poster-button" (click)="addMovie(movieSearch)">
            <img [src]="movieSearch.poster_path | posterUrl" class="poster" *ngIf="movieSearch.poster_path">
            <div class="movie-title-container" *ngIf="!movieSearch.poster_path">
              <h5 class="movie-title">
                {{movieSearch.title}}
              </h5>
            </div>
        </button>
      </div>
    </div>
  </div>
</div>
